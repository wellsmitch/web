/* empty css                       */import{c as x,G as w,s as E,a as b,_ as N}from"./index-LOxvEO2l.js";const S=u=>(Vue.pushScopeId("data-v-83f260a0"),u=u(),Vue.popScopeId(),u),y={class:"home-index"},T={key:0,class:"text-2xl text-center positive"},L={key:0,class:"text-2xl text-center huni-class"},R=S(()=>Vue.createElementVNode("span",{class:"mark-div"},"查询中...",-1)),F=[R],H={name:"list",tag:"div",class:"s-container"},$=["title"],I={class:"el-descriptions__header"},M={class:"el-descriptions__title"},q={class:"el-descriptions__body ddd"},D={class:"ql-editor"},z=["innerHTML"],O={key:1,class:"positive"},j=["onClick"],A=["innerHTML"],G=Vue.defineComponent({__name:"HomeIndex",setup(u){Vue.ref("11"),Vue.ref("22");const v=Vue.inject("$axios"),r=Vue.ref([]);let g=Vue.toRefs(x()),V=Vue.ref("");Vue.watch(g.headerKeyword,t=>{V.value=t,_(null)});let p=Vue.ref(document.createElement("textarea"));const C=(t,l)=>{let o=document.querySelector(".".concat(l));Vue.nextTick(()=>{p.value.textContent=(o==null?void 0:o.innerText)||"",p.value.select();let e=document.execCommand("copy");ElementPlus.ElMessage({type:e?"success":"warning",message:e?"复制成功！":"复制失败！"})})},i=Vue.ref(!1),_=async t=>{let l=V.value?{params:{order:"-seq",where:'{"title": {"$regex":"'.concat(V.value,'","$options":"i"}, "moduleType":"common"}')}}:{params:{order:"-seq"}};i.value||await new Promise(o=>{setTimeout(()=>{o(null)},1200)}),await v.get("/indexData",t||l).then(o=>{console.log(o);let e="$_$_$",h=(o.results||[]).map(c=>{let d=(c.content||"")&&c.content.replace(/<pre /ig,e+"<pre ").replace(/<\/pre>/ig,"</pre>"+e).split(e),n=d&&d.map(s=>({type:s.indexOf("<pre ")>-1?"code":"string",val:s})).filter(s=>s.val)||[];return c.contentList=n,c});r.value=h,Vue.nextTick(()=>{k()})}).finally(()=>{i.value=!0})};w().setFunc(_),Vue.onMounted(()=>{_(null)});let B=Vue.reactive([]);const f=t=>{B.push(t)},k=()=>{r.value.map(t=>(t.isInitFlag=!0,t)).forEach((t,l)=>{new IntersectionObserver(o=>{o.forEach(e=>{e.intersectionRatio>0?e.rootBounds&&e.boundingClientRect&&e.boundingClientRect.bottom-e.rootBounds.bottom>0?(t.domShowByBottom=!0,t.domHideByBottom=!0,t.domHideByTop=!1,t.domShowByTop=!1):e.rootBounds&&e.boundingClientRect&&e.boundingClientRect.top-e.rootBounds.top<0:e.rootBounds&&e.boundingClientRect&&e.boundingClientRect.bottom-e.rootBounds.bottom>0?(t.domShowByBottom=!1,t.domHideByBottom=!0,t.domHideByTop=!1,t.domShowByTop=!1,console.log("isFromTop",e.isIntersecting)):e.rootBounds&&e.boundingClientRect&&e.boundingClientRect.top-e.rootBounds.top<0})},{}).observe(B[l])})};return(t,l)=>{const o=Vue.resolveComponent("el-aside"),e=Vue.resolveComponent("el-icon"),h=Vue.resolveComponent("el-scrollbar"),c=Vue.resolveComponent("el-main"),d=Vue.resolveComponent("el-container");return Vue.openBlock(),Vue.createElementBlock("div",y,[Vue.createVNode(d,null,{default:Vue.withCtx(()=>[Vue.createVNode(o,{class:"dddddd",width:Vue.unref(E)().sideShow.show?"320px":"0px"},null,8,["width"]),Vue.createVNode(c,{class:"list-main dddddd"},{default:Vue.withCtx(()=>[(Vue.openBlock(),Vue.createBlock(Vue.Teleport,{to:"body"},[Vue.createElementVNode("textarea",{class:"copy-code-textarea",ref_key:"codeAreaDom",ref:p,name:"",id:"",cols:"30",rows:"10"},null,512)])),Vue.createVNode(h,{"wrap-class":"main-scroll-class"},{default:Vue.withCtx(()=>[Vue.createElementVNode("div",null,[Vue.unref(r).length===0?(Vue.openBlock(),Vue.createElementBlock("h2",T,[Vue.createTextVNode(Vue.toDisplayString(Vue.unref(i)?"未查询到数据...":"查询中...")+" ",1),Vue.unref(i)?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createElementBlock("p",L,F))])):Vue.createCommentVNode("",!0),Vue.createElementVNode("div",H,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(r),(n,s)=>(Vue.openBlock(),Vue.createElementBlock("div",{class:Vue.normalizeClass(["el-descriptions",{isInitFlag:n.isInitFlag,"list-panel-hide-bottom":n.domHideByBottom,"list-panel-show-bottom":n.domShowByBottom}]),key:n.title,title:n.title},[Vue.createElementVNode("div",I,[Vue.createElementVNode("div",M,Vue.toDisplayString(n.title),1)]),Vue.createElementVNode("div",q,[Vue.createElementVNode("div",{ref_for:!0,ref:f,class:"ql-container ql-snow"},[Vue.createElementVNode("div",D,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(n.contentList,(a,m)=>(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[a.type==="string"?(Vue.openBlock(),Vue.createElementBlock("div",{key:0,innerHTML:a.val},null,8,z)):Vue.createCommentVNode("",!0),a.type==="code"?(Vue.openBlock(),Vue.createElementBlock("div",O,[Vue.createElementVNode("div",{class:Vue.normalizeClass(["code-copy","btn__"+s+"_"+m]),onClick:P=>C("btn__"+s+"_"+m,"code_"+s+"_"+m)},[Vue.createVNode(e,null,{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(b))]),_:1})],10,j),Vue.createElementVNode("div",{class:Vue.normalizeClass("code_"+s+"_"+m),innerHTML:a.val},null,10,A)])):Vue.createCommentVNode("",!0)],64))),256))])])])],10,$))),128))])])]),_:1})]),_:1})]),_:1})])}}}),Q=N(G,[["__scopeId","data-v-83f260a0"]]);export{Q as default};
