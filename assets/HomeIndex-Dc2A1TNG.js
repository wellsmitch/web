/* empty css                       */import{c as g,G as f,s as E,a as w,_ as x}from"./index-CMNIPTW2.js";const y={class:"home-index"},b={name:"list",tag:"div",class:"s-container"},N=["title"],S={class:"el-descriptions__header"},L={class:"el-descriptions__title"},T={class:"el-descriptions__body ddd"},H={class:"ql-editor"},F=["innerHTML"],$={key:1,class:"positive"},R=["onClick"],M=["innerHTML"],q={key:0,class:"text-2xl text-center"},I=Vue.defineComponent({__name:"HomeIndex",setup(D){Vue.ref("11"),Vue.ref("22");const h=Vue.inject("$axios"),a=Vue.ref([]);let B=Vue.toRefs(g()),d=Vue.ref("");Vue.watch(B.headerKeyword,e=>{d.value=e,V(null)});let m=Vue.ref(document.createElement("textarea"));const v=(e,s)=>{let o=document.querySelector(".".concat(s));Vue.nextTick(()=>{m.value.textContent=(o==null?void 0:o.innerText)||"",m.value.select();let t=document.execCommand("copy");ElementPlus.ElMessage({type:t?"success":"warning",message:t?"复制成功！":"复制失败！"})})},V=e=>{let s=d.value?{params:{order:"-seq",where:'{"title": {"$regex":"'.concat(d.value,'","$options":"i"}, "moduleType":"common"}')}}:{params:{order:"-seq"}};h.get("/indexData",e||s).then(o=>{console.log(o);let t="$_$_$",p=(o.results||[]).map(c=>{let u=(c.content||"")&&c.content.replace(/<pre /ig,t+"<pre ").replace(/<\/pre>/ig,"</pre>"+t).split(t),l=u&&u.map(n=>({type:n.indexOf("<pre ")>-1?"code":"string",val:n})).filter(n=>n.val)||[];return c.contentList=l,c});a.value=p,Vue.nextTick(()=>{C()})})};f().setFunc(V),Vue.onMounted(()=>{V(null)});let _=Vue.reactive([]);const k=e=>{_.push(e)},C=()=>{a.value.map(e=>(e.isInitFlag=!0,e)).forEach((e,s)=>{new IntersectionObserver(o=>{o.forEach(t=>{t.intersectionRatio>0?t.boundingClientRect.bottom-t.rootBounds.bottom>0?(e.domShowByBottom=!0,e.domHideByBottom=!0,e.domHideByTop=!1,e.domShowByTop=!1):t.boundingClientRect.top-t.rootBounds.top<0:t.boundingClientRect.bottom-t.rootBounds.bottom>0?(e.domShowByBottom=!1,e.domHideByBottom=!0,e.domHideByTop=!1,e.domShowByTop=!1,console.log("isFromTop",t.isIntersecting)):t.boundingClientRect.top-t.rootBounds.top<0})},{}).observe(_[s])})};return(e,s)=>{const o=Vue.resolveComponent("el-aside"),t=Vue.resolveComponent("el-icon"),p=Vue.resolveComponent("el-scrollbar"),c=Vue.resolveComponent("el-main"),u=Vue.resolveComponent("el-container");return Vue.openBlock(),Vue.createElementBlock("div",y,[Vue.createVNode(u,null,{default:Vue.withCtx(()=>[Vue.createVNode(o,{class:"dddddd",width:Vue.unref(E)().sideShow.show?"320px":"0px"},null,8,["width"]),Vue.createVNode(c,{class:"list-main dddddd"},{default:Vue.withCtx(()=>[(Vue.openBlock(),Vue.createBlock(Vue.Teleport,{to:"body"},[Vue.createElementVNode("textarea",{class:"copy-code-textarea",ref_key:"codeAreaDom",ref:m,name:"",id:"",cols:"30",rows:"10"},null,512)])),Vue.createVNode(p,{"wrap-class":"main-scroll-class"},{default:Vue.withCtx(()=>[Vue.createElementVNode("div",null,[Vue.createElementVNode("div",b,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(a),(l,n)=>(Vue.openBlock(),Vue.createElementBlock("div",{class:Vue.normalizeClass(["el-descriptions",{isInitFlag:l.isInitFlag,"list-panel-hide-bottom":l.domHideByBottom,"list-panel-show-bottom":l.domShowByBottom}]),key:l.title,title:l.title},[Vue.createElementVNode("div",S,[Vue.createElementVNode("div",L,Vue.toDisplayString(l.title),1)]),Vue.createElementVNode("div",T,[Vue.createElementVNode("div",{ref_for:!0,ref:k,class:"ql-container ql-snow"},[Vue.createElementVNode("div",H,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(l.contentList,(r,i)=>(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[r.type==="string"?(Vue.openBlock(),Vue.createElementBlock("div",{key:0,innerHTML:r.val},null,8,F)):Vue.createCommentVNode("",!0),r.type==="code"?(Vue.openBlock(),Vue.createElementBlock("div",$,[Vue.createElementVNode("div",{class:Vue.normalizeClass(["code-copy","btn__"+n+"_"+i]),onClick:z=>v("btn__"+n+"_"+i,"code_"+n+"_"+i)},[Vue.createVNode(t,null,{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(w))]),_:1})],10,R),Vue.createElementVNode("div",{class:Vue.normalizeClass("code_"+n+"_"+i),innerHTML:r.val},null,10,M)])):Vue.createCommentVNode("",!0)],64))),256))])])])],10,N))),128))]),Vue.unref(a).length===0?(Vue.openBlock(),Vue.createElementBlock("h2",q,"未查询到数据...")):Vue.createCommentVNode("",!0)])]),_:1})]),_:1})]),_:1})])}}}),G=x(I,[["__scopeId","data-v-0e3aa0db"]]);export{G as default};
